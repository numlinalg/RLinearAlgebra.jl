<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Compression · RLinearAlgebra</title><meta name="title" content="Compression · RLinearAlgebra"/><meta property="og:title" content="Compression · RLinearAlgebra"/><meta property="twitter:title" content="Compression · RLinearAlgebra"/><meta name="description" content="Documentation for RLinearAlgebra."/><meta property="og:description" content="Documentation for RLinearAlgebra."/><meta property="twitter:description" content="Documentation for RLinearAlgebra."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RLinearAlgebra</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/introduction/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Consistent Linear System</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/consistent_system/consistent_system/">Solving a Consistent Linear System</a></li><li><a class="tocitem" href="../../tutorials/consistent_system/consistent_system_configure/">Configuring Linear System Solvers</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../introduction/">Introduction</a></li><li class="is-active"><a class="tocitem" href>Compression</a><ul class="internal"><li><a class="tocitem" href="#Using-complete_compressor"><span>Using complete_compressor</span></a></li><li><a class="tocitem" href="#Multiplying-your-CompressorRecipe"><span>Multiplying your CompressorRecipe</span></a></li><li><a class="tocitem" href="#Updating-update_compressor!"><span>Updating update_compressor!</span></a></li><li><a class="tocitem" href="#Compressing-a-Matrix-Example"><span>Compressing a Matrix Example</span></a></li><li><a class="tocitem" href="#Sampling-Compressors-and-Distributions"><span>Sampling Compressors and Distributions</span></a></li><li><a class="tocitem" href="#Summary-of-Compressors"><span>Summary of Compressors</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Compressors</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/compressors/">Compressors API</a></li><li><a class="tocitem" href="../../api/distributions/">Distributions API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Solvers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/solvers/">Solvers API</a></li><li><a class="tocitem" href="../../api/sub_solvers/">SubSolvers API</a></li><li><a class="tocitem" href="../../api/solver_errors/">SolverErrors API</a></li><li><a class="tocitem" href="../../api/loggers/">Loggers API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Approximators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/approximators/">Approximators API</a></li><li><a class="tocitem" href="../../api/selectors/">Selectors API</a></li><li><a class="tocitem" href="../../api/approximator_errors/">ApproximatorErrors API</a></li></ul></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Compression</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Compression</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/numlinalg/RLinearAlgebra.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/numlinalg/RLinearAlgebra.jl/blob/main/docs/src/manual/compression.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Compressing-a-Matrix/Vector"><a class="docs-heading-anchor" href="#Compressing-a-Matrix/Vector">Compressing a Matrix/Vector</a><a id="Compressing-a-Matrix/Vector-1"></a><a class="docs-heading-anchor-permalink" href="#Compressing-a-Matrix/Vector" title="Permalink"></a></h1><p>Most Randomized Linear Algebra routines start by forming low-dimensional representation of  a matrix/vector. These representations are typically formed by multiplying a  random matrix with a large matrix/vector.  For instance, if we have <span>$x \in \mathbb{R}^{10,000}$</span> we can apply a matrix,  <span>$S \in \mathbb{R}^{20 \times 10,000}$</span> made up of  independent and identically distributed <span>$\textbf{Normal}(0, 1/\sqrt{20})$</span> to obtain <span>$y = Sx \in \mathbb{R}^{20}$</span> where <span>$(1-\epsilon)\|x\| \leq \|y\| \leq (1+\epsilon) \|x\|$</span> with high probability. </p><p>Of course, many other techniques beyond a Gaussian matrix can be used to generate  <span>$S$</span> and they vary both in terms of their approximation accuracy and computational  efficiency. In papers, Randomized Linear Algebraists often refer to techniques for generating <span>$S$</span> as either sampling (random subset of identity) or sketching  (general random matrix) techniques. For simplicity RLinearAlgebra.jl refers to both types  of techniques under the general family of Compressors. The choice of the terminology  <code>Compressors</code> also allows us to incorporate deterministic approaches to compressing  matrices/vectors. </p><p>In RLinearAlgebra.jl, using a compression technique requires two main steps. The first, uses the <code>complete_compressor</code> function to generate a CompressorRecipe. The second  step uses the <code>mul!</code> or <code>*</code> functions to apply your <code>CompressorRecipe</code> to your matrix/ vector object. If you ever want to form a new realization of your compressor, you can  use the <code>update_compressor!</code> function to update the random entries in your  <code>CompressorRecipe</code>. </p><h2 id="Using-complete_compressor"><a class="docs-heading-anchor" href="#Using-complete_compressor">Using complete_compressor</a><a id="Using-complete_compressor-1"></a><a class="docs-heading-anchor-permalink" href="#Using-complete_compressor" title="Permalink"></a></h2><p>In its simplest form, <code>complete_compressor</code> has two arguments, the first is <code>compressor</code>, where you specify the compressor technique that you wish to use. All compressors have two fields that the user can specify; although some have some additional technique   specific fields (see <a href="../../api/compressors/#Compressors-API">Compressors API</a> for more details). The first field  is <code>compression_dim</code>, where you specify the dimension that your <code>CompressorRecipe</code> will map  a matrix/vector into after being applied to the matrix/vector. The second field is  <code>Cardinality</code>, which can either be <code>Left()</code> or <code>Right()</code>. <code>Cardinality</code> allows you to  specify how you intend to multiply your compressor to a matrix/vector. In the matrix case,  if <code>S</code> is your <code>CompressorRecipe</code> and <code>A</code> is your matrix, a <code>Left()</code> cardinality  corresponds to multiplying <code>SA</code> and a <code>Right()</code> corresponds to multiplying <code>AS</code>. Once  you have specified these two fields in your <code>Compressor</code> object, the second input in to the  <code>complete_compressor</code> function will be the matrix/vector you wish to compress. </p><h2 id="Multiplying-your-CompressorRecipe"><a class="docs-heading-anchor" href="#Multiplying-your-CompressorRecipe">Multiplying your CompressorRecipe</a><a id="Multiplying-your-CompressorRecipe-1"></a><a class="docs-heading-anchor-permalink" href="#Multiplying-your-CompressorRecipe" title="Permalink"></a></h2><p>Once you have your <code>CompressorRecipe</code> you can multiply it to any matrix/vector  just as you would any matrix object, using either the <code>mul!</code> or <code>*</code> functions. You can also  take transposes of the <code>CompressorRecipe</code> just as you would any other matrix object.  Just like in <code>LinearAlgebra</code>, the <code>mul!</code> function should be used when you have preallocated  an output array and the <code>*</code> function should be used when you have not. </p><div class="admonition is-info" id="Effect-of-Cardinality-on-Multiplication-3ed8f2612660d40f"><header class="admonition-header">Effect of Cardinality on Multiplication<a class="admonition-anchor" href="#Effect-of-Cardinality-on-Multiplication-3ed8f2612660d40f" title="Permalink"></a></header><div class="admonition-body"><p>Provided the dimensions align you can provide a compressor to the left or  right of a matrix or vector regardless of the <code>Cardinality</code>. However, if the  direction applied does not align with the <code>Cardinality</code>, this could be a slower  operation.</p></div></div><h2 id="Updating-update_compressor!"><a class="docs-heading-anchor" href="#Updating-update_compressor!">Updating update_compressor!</a><a id="Updating-update_compressor!-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-update_compressor!" title="Permalink"></a></h2><p>Because most compression techniques are randomized, it is likely that once you have a  realization of <code>CompressorRecipe</code> that you would want another realization of that same  recipe. This can be done using the <code>update_compressor!</code> function. This function in  its simplest form has only one argument although for some compressors it could have more arguments (see <a href="../../api/compressors/#Compressors-API">Compressors API</a> for more details). The one argument is the  <code>CompressorRecipe</code>.</p><h2 id="Compressing-a-Matrix-Example"><a class="docs-heading-anchor" href="#Compressing-a-Matrix-Example">Compressing a Matrix Example</a><a id="Compressing-a-Matrix-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Compressing-a-Matrix-Example" title="Permalink"></a></h2><p>Knowing that compressors allow us to reduce one of the dimensions of a matrix, the next  important question is how do we do this in RLinearAlgebra.jl? In the following example  we show how to do exactly this using a <a href="../../api/compressors/#RLinearAlgebra.Gaussian">Gaussian</a> compressor. In this  example we will generate a <code>GaussianRecipe</code>, <code>S</code>, with <code>compression_dim</code> 10 and  <code>cardinality</code> <code>Left()</code>, then we will apply <code>S</code> and its transpose, <code>S&#39;</code>, to a matrix, <code>A</code>,  with a 100 rows and 100 columns using <code>*</code>.  Then we will generate a new realization of the recipe using  <code>update_compressor!</code> and use the <code>mul!</code> to apply this new compressor to <code>A</code> from  the left.</p><pre><code class="language-julia hljs">using RLinearAlgebra
using LinearAlgebra

A = rand(100, 100)

# Generate the CompressorRecipe with compression_dim 10 and cardinality Left()
S = complete_compressor(
    Gaussian(
        compression_dim = 10,
        cardinality = Left()
    ),
    A
)

# Multiply this compressor and its transpose to the left and right of A, respectively
C = S * A * S&#39;

# Generate a new realization of S
update_compressor!(S)

# use mul! to multiply S from the left
# the output matrix will have the number of rows in S and the number of columns in A
C = zeros(size(S, 1), size(A, 2))

mul!(C, S, A)</code></pre><h2 id="Sampling-Compressors-and-Distributions"><a class="docs-heading-anchor" href="#Sampling-Compressors-and-Distributions">Sampling Compressors and Distributions</a><a id="Sampling-Compressors-and-Distributions-1"></a><a class="docs-heading-anchor-permalink" href="#Sampling-Compressors-and-Distributions" title="Permalink"></a></h2><p>A special sub-type of compressors are known as <code>Sampling</code> compressors. These compressors are unique in that they compress the matrix by selecting rows or columns according to a  specific distribution. For example, we could compress a matrix by sampling 10 rows uniformly at random in what is known unsurprisingly as a uniform sampling approach. RLinearAlgebra.jl allows you to use the Sampling techniques with a wide range of distributions (see  <a href="../../api/distributions/#Distributions">Distributions</a> for more details). You can specify the distribution you want to use with the <code>distribution</code> argument in the sampling structure. As an example, if we want to  perform uniform sampling from a matrix we can form our SamplingRecipe by writing:</p><pre><code class="language-julia hljs">using RLinearAlgebra
A = rand(100, 100)

# Generate Compression recipe using uniform sampling distribution
S = complete_compressor(
    Sampling(
        compression_dim = 10,
        cardinality = Left(),
        distribution = Uniform()
    ),
    A
)</code></pre><h2 id="Summary-of-Compressors"><a class="docs-heading-anchor" href="#Summary-of-Compressors">Summary of Compressors</a><a id="Summary-of-Compressors-1"></a><a class="docs-heading-anchor-permalink" href="#Summary-of-Compressors" title="Permalink"></a></h2><p>We now know that anytime we want to reduce one of the dimensions of a matrix or vector, we need to form a <code>CompressorRecipe</code>. To form the <code>CompressorRecipe</code>, we need to call <code>complete_compressor</code> with a <code>Compressor</code> data structure, which specifies the technique we want to use to compress a matrix/vector, and a matrix/vector that we wish to compress. Once we have this recipe, we can generate a new realization of it by calling  <code>update_compressor!</code> and can apply it to a matrix or vector using <code>mul!</code> or <code>*</code>. For more information on specific compressors see <a href="../../api/compressors/#Compressors-API">Compressors API</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../introduction/">« Introduction</a><a class="docs-footer-nextpage" href="../../api/compressors/">Compressors API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 25 December 2025 21:17">Thursday 25 December 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
